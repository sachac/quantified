= setup_page 'records', nil, 'time/nav'
= render 'quick_record'
.filters.collapsible.collapsed
  %legend Options [+]
  .details
    = form_tag records_path, :method => :get do
      .clearfix
        = label_tag :start, 'Start' 
        .input= text_field_tag :start, @start ? @start.strftime("%Y-%m-%d") : nil, :class => 'datepicker' 
      .clearfix
        = label_tag :end, 'End' 
        .input= text_field_tag :end, @end ? @end.strftime("%Y-%m-%d") : nil, :class => 'datepicker' 
      .clearfix
        = label_tag :order, 'Order'
        .input
          = radio_button_tag :order, 'newest', @order != 'desc', :class => 'inline'
          = label_tag :order_newest, 'Newest on top', :class => 'inline'
          = radio_button_tag :order, 'oldest', @order == 'desc'
          = label_tag :order_oldest, 'Oldest on top', :class => 'inline'
      .clearfix
        = label_tag :display_type, 'Display'
        .input
          = radio_button_tag :display_type, 'time', params[:display_type] != 'decimal', :class => 'inline'
          = label_tag :display_type_inline, 'Time', :class => 'inline'
          = radio_button_tag :display_type, 'decimal', params[:display_type] == 'decimal', :class => 'inline'
          = label_tag :display_type_decimal, 'Decimal', :class => 'inline'
      .clearfix
        = label_tag :filter, t('app.general.filter')
        .input
          = text_field_tag :filter_string, params[:filter_string]
      .actions   
        = submit_tag t('app.general.filter'), :class => 'btn primary'
        = submit_tag t('.recalculate_durations'), :class => 'btn'
= download_as_spreadsheet
= render 'summary', :records => @records, :show_duration => true
= will_paginate @records, :renderer => PaginationListLinkRenderer
